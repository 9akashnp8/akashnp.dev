---
import { getCollection } from 'astro:content';

const allBlogPosts = await getCollection('blog', ({ data }) => {
    return data.draft !== true;
});

import SiteLayout from "../../layouts/SiteLayout.astro";
import BlogCard from "../../components/BlogCard";
---
<SiteLayout title="Akash N P | Blog">
    {allBlogPosts.map((blogPost) => {
        return (
            <BlogCard
                title={blogPost.data.title}
                slug={blogPost.slug}
                publishDate={blogPost.data.publishDate.toLocaleDateString()}
            />
        )
    })}
</SiteLayout>